define(["jquery","jqueryui","core/log","filter_poodll/utils_amd"],function(a,b,c,d){"use strict";return c.debug("Post Record Dialog: initialising"),{instanceprops:null,init:function(a){this.instanceprops=a,this.insert_html(),this.register_events()},insert_html:function(){var b=this.instanceprops,c=a("#"+b.holderid);if(0!=c.length){var d=M.util.get_string("cancelui_cancelactivity","mod_fluencybuilder"),e='<div class="hide">';e+='<div class="mod_fluencybuilder_cancelbox" title="'+d+'">',e+=M.util.get_string("cancelui_reallycancel","mod_fluencybuilder"),e+="</div>",e+="</div>",a(c).prepend(e);var f={the_dialog:a("#"+b.holderid+"  .mod_fluencybuilder_cancelbox"),cancelbutton:a("#"+b.holderid+"  .mod_fluencybuilder_cancelbutton")};b.controls=f}},register_events:function(){var b=this.instanceprops;b.controls.cancelbutton.click(function(){var c=M.util.get_string("cancelui_iwantquit","mod_fluencybuilder"),d=M.util.get_string("cancelui_inoquit","mod_fluencybuilder"),e={};e[c]=function(){window.location.replace(M.cfg.wwwroot+"/mod/fluencybuilder/view.php?id="+b.cmid)},e[d]=function(){a(this).dialog("close")},b.controls.the_dialog.dialog({resizable:!1,height:"auto",width:400,modal:!0,buttons:e})})}}});